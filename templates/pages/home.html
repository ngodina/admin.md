{% extends "layouts/default.html" %}
{% load staticfiles %}

{% block title %}Admin Tools{% endblock %}
{% block title_header %}IP Check{% endblock %}

{% block content %}


    <div class="page-content">
        <div id="tab-general">
            <div class="row mbl">
                <div class="col-lg-6">
                    <div class="panel">
                        <div class="panel-body">
                            <form class="form-inline" method="get" action="/">
                                <div class="form-group">
                                    {% if input_address %}
                                    <input type="text" class="form-control" name="ip" value="{{ input_address }}"/>
                                    {% else %}
                                    <input type="text" class="form-control" name="ip" placeholder="Hostname or IP"/>
                                    {% endif %}
                                </div>
                                <button type="submit" class="btn btn-primary">Check</button>
                            </form>
                            <br>
                            {% if address %}
                                <table class="table table-bordered">
                                    <tr>
                                        <th>IP:</th>
                                        <td>
                                            <b>{{ address.ip }}</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Country:</th>
                                        <td>{{ address.country }}</td>
                                    </tr>
                                    <tr>
                                        <th>ISP:</th>
                                        <td>{{ address.isp }}</td>
                                    </tr>
                                    <tr>
                                        <th>Hostname:</th>
                                        <td>{{ address.hostname }}</td>
                                    </tr>
                                    {% if not input_address %}
                                        <tr>
                                            <th>Local IP:</th>
                                            <td class="local-ip">...</td>
                                        </tr>
                                    {% endif %}
                                </table>
                            {% else %}
                                <div class="alert alert-danger">No info found for host "{{ input_address }}"</div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="panel">
                        <div class="panel-body">
                            <h4 class="mbs">
                                Browser details
                            </h4>
                            <br>
                            <table class="table table-bordered">
                                <tr>
                                    <th>Browser:</th>
                                    <td>{{ user_agent.browser.family }} {{ user_agent.browser.version_string }}</td>
                                </tr>
                                <tr>
                                    <th>OS:</th>
                                    <td>{{ user_agent.os.family }} {{ user_agent.os.version_string }}</td>
                                </tr>
                                <tr>
                                    <th>Device:</th>
                                    <td>{{ user_agent.device.family }}</td>
                                </tr>
                                <tr>
                                    <th>Language:</th>
                                    <td>{{ language }}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}